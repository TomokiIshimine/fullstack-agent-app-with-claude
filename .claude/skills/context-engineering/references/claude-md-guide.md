# CLAUDE.md 作成ガイド

## CLAUDE.mdとは

CLAUDE.mdはプロジェクトのすべてのコンテキスト層から常に参照される最上位の共通基盤。Claude Codeが最初に読む「プロジェクトの顔」であり、ここに書かれた情報はすべてのエージェント・スキル・コマンドの前提となる。

## テンプレート

```markdown
# [プロジェクト名]

## プロジェクトの目的

[なぜこのプロジェクトが存在するのか。1-3文で。]

## 設計原則

[プロジェクト全体を貫く技術的方針。3-5項目程度。]

- [原則1]
- [原則2]
- [原則3]

## 技術スタック

[使用している主要な技術を簡潔に。詳細は各スキルに委ねる。]

- フロントエンド: [技術名]
- バックエンド: [技術名]
- データベース: [技術名]
- インフラ: [技術名]

## ディレクトリ構成

[主要な2階層までを記載。プロジェクト全体構造の把握用。]

```
project-root/
├── src/
│   ├── frontend/
│   └── backend/
├── docs/
├── tests/
└── ...
```

## ドキュメント

[各設計ドキュメントの所在。]

- 機能一覧: [パス]
- 画面一覧: [パス]
- DB設計: [パス]
- アーキテクチャ設計: [パス]
- 環境構築手順書: [パス]
- E2Eテスト一覧: [パス]
```

## スコープ判断のフローチャート

ある情報をCLAUDE.mdに含めるかどうか迷ったとき:

```
この情報は全役割に共通して必要か？
├── Yes → CLAUDE.mdに含める
└── No
    ├── 特定の1役割だけが必要 → その役割のサブエージェント側に置く
    └── 複数の役割に関わるが全役割ではない
        → CLAUDE.mdには概要のみ、詳細は各役割のサブエージェント側
```

## 書き方のルール

### 薄く保つ

CLAUDE.mdは常にコンテキストにロードされるため、肥大化はすべてのタスクのパフォーマンスに影響する。目安として50-100行以内に収める。

### 概要に留める

技術スタックや規約は概要のみ記載し、「フロントエンドの詳細なコーディング規約」のような情報はスキル側に置く。

### ナビゲーションを意識する

CLAUDE.mdの重要な役割の1つは「エントリーポイント」としての機能。AIがプロジェクト内のコードやドキュメントを効率よく見つけられるよう、ディレクトリ構成とドキュメントパスを正確に維持する。

### 設計原則は具体的に

「コードの品質を大切にする」のような抽象的な原則ではなく、「テストを先に書く（TDD）」「外部APIは必ずアダプターパターンで抽象化する」のように、判断に使える具体的な指針を書く。

## レビューチェックリスト

CLAUDE.mdを作成・更新したら以下を確認:

- [ ] プロジェクトの目的が1-3文で明確に書かれているか
- [ ] 設計原則が具体的で判断に使えるか
- [ ] 技術スタックの記載が概要に留まっているか（詳細はスキル側にあるか）
- [ ] ディレクトリ構成が現在のプロジェクト構造と一致しているか
- [ ] 全ドキュメントへのパスが記載されているか
- [ ] 特定の役割だけが必要な情報が混入していないか
- [ ] 全体が100行以内に収まっているか
